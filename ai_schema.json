{
  "system_prompt": "Voc√™ √© um assistente jur√≠dico especializado de um escrit√≥rio de advocacia no Brasil.\n\nDIRETRIZES IMPORTANTES:\n- Responda SEMPRE em portugu√™s brasileiro\n- Mantenha respostas profissionais, concisas e focadas em quest√µes jur√≠dicas\n- N√ÉO forne√ßa aconselhamento jur√≠dico espec√≠fico ou definitivo\n- Sempre recomende consulta presencial para casos espec√≠ficos\n- Use linguagem acess√≠vel, mas t√©cnica quando necess√°rio\n- Demonstre empatia e compreens√£o pela situa√ß√£o do cliente\n- Foque em orienta√ß√µes gerais e procedimentos legais\n- Mencione a import√¢ncia de documenta√ß√£o e prazos quando relevante\n- Seja caloroso e acolhedor, mas mantenha profissionalismo\n\nCONTEXTO ESPECIAL:\n- Voc√™ tem acesso aos dados do formul√°rio de capta√ß√£o (nome, √°rea jur√≠dica, situa√ß√£o)\n- Use essas informa√ß√µes para personalizar suas respostas\n- Quando mencionado [Client Intake Data], use esses dados para contextualizar\n- Adapte seu tom baseado na plataforma ([Platform: WEB] ou [Platform: WHATSAPP])\n\n√ÅREAS DE ESPECIALIZA√á√ÉO:\n- Direito Penal\n- Direito Civil\n- Direito Trabalhista\n- Direito de Fam√≠lia\n- Direito Empresarial\n\nFORMATO DE RESPOSTA:\n- Para WhatsApp: M√°ximo 2 par√°grafos, linguagem mais direta\n- Para Web: M√°ximo 3 par√°grafos, pode ser mais detalhado\n- Sempre termine sugerindo agendamento de consulta quando apropriado\n- Use emojis moderadamente no WhatsApp, evite no Web\n\nTAREFAS ESPECIAIS:\n- Se receber [TASK: Generate...], foque especificamente na tarefa solicitada\n- Para mensagens de boas-vindas, seja caloroso e profissional\n- Para valida√ß√£o de dados, seja gentil mas claro\n- Para confirma√ß√µes, seja positivo e tranquilizador\n\nVoc√™ tem acesso ao hist√≥rico da conversa para fornecer respostas contextualizadas e personalizadas.",
  "ai_config": {
    "model": "gemini-1.5-flash",
    "temperature": 0.7,
    "max_tokens": 1000,
    "memory_window": 10,
    "timeout": 30
  },
  "conversation_settings": {
    "preserve_context_across_platforms": true,
    "enable_session_memory": true,
    "fallback_to_ai_after_flow": true,
    "phone_collection_triggers_whatsapp": true,
    "use_ai_for_dynamic_messages": true,
    "context_aware_responses": true
  },
  "response_guidelines": {
    "max_paragraphs_web": 3,
    "max_paragraphs_whatsapp": 2,
    "language": "pt-BR",
    "tone": "professional_empathetic",
    "always_recommend_consultation": true,
    "include_legal_disclaimer": true,
    "personalize_with_intake_data": true
  },
  "platform_specific": {
    "whatsapp": {
      "use_emojis": true,
      "shorter_responses": true,
      "greeting_message": "Ol√°! Sou o assistente jur√≠dico do escrit√≥rio. Como posso ajud√°-lo hoje?",
      "max_message_length": 300
    },
    "web": {
      "use_emojis": false,
      "detailed_responses": true,
      "greeting_message": "Bem-vindo ao nosso escrit√≥rio de advocacia. Como posso auxili√°-lo com quest√µes jur√≠dicas?",
      "max_message_length": 500
    }
  },
  "version": "2.0",
  "last_updated": "2024-01-15T15:00:00Z",
  "description": "Configura√ß√£o do sistema de IA para assistente jur√≠dico com integra√ß√£o LangChain + Gemini e suporte a contexto de intake",
  "fallback_flow": {
    "description": "Fluxo fixo de perguntas usado quando Gemini AI est√° indispon√≠vel",
    "enabled": true,
    "sequential": true,
    "steps": [
      {
        "id": 0,
        "field": "review_intro",
        "question": "Ol√°! Para garantir que registramos corretamente suas informa√ß√µes, vamos come√ßar do in√≠cio. Tudo bem?",
        "validation": {
          "type": "confirmation",
          "required": true
        },
        "error_message": "Pode me confirmar se est√° tudo certo para revisarmos do come√ßo?",
        "confirmation_responses": ["sim", "ok", "tudo bem", "pode ser", "claro", "yes", "certo", "vamos", "confirmo", "vamos l√°", "perfeito", "beleza"]
      },
      {
        "id": 1,
        "field": "name",
        "question": "Oi! Que bom que voc√™ est√° em contato conosco. Para te ajudar, preciso do seu nome completo. Pode me informar?",
        "validation": {
          "min_length": 2,
          "required": true,
          "type": "name"
        },
        "error_message": "Por favor, informe seu nome completo para que possamos te atender adequadamente."
      },
      {
        "id": 2,
        "field": "area_of_law",
        "question": "Ol√° {user_name}, prazer em te conhecer! Em qual √°rea jur√≠dica voc√™ precisa de ajuda?\n\n‚Ä¢ Penal\n‚Ä¢ Civil\n‚Ä¢ Trabalhista\n‚Ä¢ Fam√≠lia\n‚Ä¢ Empresarial",
        "validation": {
          "min_length": 3,
          "required": true,
          "type": "area",
          "normalize_map": {
            "penal": "Penal",
            "criminal": "Penal",
            "crime": "Penal",
            "civil": "Civil",
            "civel": "Civil",
            "trabalhista": "Trabalhista",
            "trabalho": "Trabalhista",
            "trabalhador": "Trabalhista",
            "fam√≠lia": "Fam√≠lia",
            "familia": "Fam√≠lia",
            "div√≥rcio": "Fam√≠lia",
            "divorcio": "Fam√≠lia",
            "casamento": "Fam√≠lia",
            "empresarial": "Empresarial",
            "empresa": "Empresarial",
            "comercial": "Empresarial"
          }
        },
        "error_message": "Por favor, escolha uma das √°reas jur√≠dicas: Penal, Civil, Trabalhista, Fam√≠lia ou Empresarial."
      },
      {
        "id": 3,
        "field": "situation",
        "question": "Ok {user_name}, entendi que se trata de uma quest√£o em {area}. Voc√™ poderia me descrever brevemente o que aconteceu? Assim consigo direcionar melhor sua demanda.",
        "validation": {
          "min_length": 5,
          "required": true,
          "type": "description"
        },
        "error_message": "Por favor, descreva sua situa√ß√£o com um pouco mais de detalhes para que possamos te ajudar melhor."
      },
      {
        "id": 4,
        "field": "phone_request",
        "question": "{user_name}, sinto muito que voc√™ esteja passando por isso. Para prosseguirmos, preciso do seu n√∫mero de WhatsApp com DDD para que nosso time jur√≠dico possa entrar em contato e te auxiliar. Voc√™ poderia me fornecer?",
        "validation": {
          "min_length": 10,
          "required": true,
          "type": "phone"
        },
        "error_message": "Por favor, digite seu n√∫mero de WhatsApp no formato com DDD (exemplo: 11999999999)."
      }
    ],
    "completion_message": "Perfeito, {user_name}! Suas informa√ß√µes foram registradas com sucesso. Nossa equipe especializada em {area} analisar√° seu caso e entrar√° em contato atrav√©s do WhatsApp {phone} em breve. Obrigado por escolher nossos servi√ßos jur√≠dicos!",
    "whatsapp_messages": {
      "welcome_message": "Ol√° {user_name}! üëã\n\nRecebemos sua solicita√ß√£o atrav√©s do nosso site e estamos aqui para te auxiliar com quest√µes jur√≠dicas.\n\nNossa equipe especializada est√° pronta para analisar seu caso.\n\nVamos continuar nossa conversa aqui no WhatsApp para sua comodidade. ü§ù",
      "case_summary": "üìÑ Resumo do caso fornecido pelo cliente:\n\n- üë§ Nome: {user_name}\n- üìå √Årea Jur√≠dica: {area}\n- üìù Situa√ß√£o: {situation}\n\nEssas informa√ß√µes foram coletadas em nosso site e est√£o vinculadas a este contato."
    }
  }
}